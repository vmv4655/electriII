#:import hex kivy.utils.get_color_from_hex
#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton
<CustomButton@Button>:
	spacing: 10
	font_size: 32
	size_hint: None, None
	size: 130, 50

<DataLabel@Label>
	text_size: self.size
	font_size: 20
	halign:    'left'
	valign:    'middle'
	color: 0, 0, 0, 1

<AppLayout>:
	id:appLayout
	tipoDeFuente:tipoFuente
	Van 		 : _Van
	Vbn 		 : _Vbn
	Vcn 		 : _Vcn
	Vab 		 : _Vab
	Vbc 		 : _Vbc
	Vca 		 : _Vca
	
	BoxLayout:
		size: self.parent.size
		pos : self.parent.pos
		orientation: "vertical"


		#Seccion superior
		BoxLayout:
			size_hint_y: .20
			orientation: "vertical"
			spacing: 10
			BoxLayout:
				orientation: "horizontal"
				canvas:
					Color:
						rgb: hex('#D0D3D4')
					Rectangle:
        				size: self.size
        				pos: self.pos
				BoxLayout:
					orientation: "vertical"
					size_hint_x: .45
					Button:
						background_color: 0, 1, 0, 1 #hex('#2ECC71')
						text: "Seleccionar voltaje"
						on_press: app.appLayout.getVoltajeAB()

					BoxLayout:
						size_hint_y: .7
						orientation: "vertical"
						Label:
							bold:  True
							color: 0, 0, 0, 1
							text: "Fuente selecionada: "


						Label:
							id: tipoFuente
							#bold:      True
							color: 0, 0, 0, 1
							text: ""

					Button:
						background_color: 0, 1, 0, 1 #hex('#2ECC71')
						text: "Seleccionar fuente"
						on_press: root.getTipoFuente()
				
				BoxLayout:
					orientation: "vertical"
					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "Van: "
						DataLabel	
							id: _Van
							text: ""

					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "Vbn: "
						DataLabel	
							id: _Vbn
							text: ""

					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "Vcn: "
						DataLabel	
							id: _Vcn
							text: ""

					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "Vab: "
						DataLabel	
							id: _Vab
							text: ""
					
					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "Vbc: "
						DataLabel	
							id: _Vbc
							text: ""

					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "Vca: "
						DataLabel:	
							id: _Vca
							text: ""

				BoxLayout:
					orientation: "vertical"
					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "Ia: "
						DataLabel:
							id: Ia

					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "Ib: "
						DataLabel:
							id: Ib

					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "Ic: "
						DataLabel:
							id: Ic

					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "FP: "
						DataLabel:
							id: FP

					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "L3W: "
						DataLabel:
							id: L3W

					BoxLayout:
						orientation: "horizontal"
						DataOutLabel:
							text: "L2W: "
						DataLabel:
							id: L2W

		#Seccion inferior
		BoxLayout:
			orientation: "vertical"
			size_hint_y: .65

			BoxLayout:
				size_hint_x: 1
				size_hint_y: .08
				orientation: "horizontal"
				canvas:
					Color:
						rgba: hex('#212F3C')
					Rectangle:
        				size: self.size
        				pos: self.pos

				Label:
					size_hint_x: .05
					font_size: 24
					text: "Cargas"

				BoxLayout:
					size_hint_x: .02

					Button:
						background_color: 0, 1, 0, 1#hex('#40ee8a')
						size_hint_x: .2
						text: "Agregar Carga"
						font_size: 23
			
			
			BoxLayout:
				canvas:
					Color:
						rgb: hex("#D0D3D4")
					Rectangle:
        				size: self.size
        				pos: self.pos
        		#ListView:
        			#selected_color: [0, 0, 0, 1]#hex('#212F3C')
        			#adapter:
        				#ListAdapter(data=["Motor1", "Motor2", "Motor3", "Motor4"], cls=ListItemButton)


<SelecVab>
	auto_dismiss: False
	size_hint: None, None
	size: 400, 250
	title: "Digite el voltaje AB"
	separator_color: 0, 1, 0, 1 #hex('#2ECC71')

	BoxLayout:
		size: self.parent.size
		pos : self.parent.pos
		orientation: "vertical"

		BoxLayout:
			padding: 10
			#size_hint_x: .75
			orientation: "horizontal"
			
			ToggleButton:
				id: ABC
				background_color: 0, 1, 0, 1 #hex('#2ECC71')
				text: "ABC"
				group: "secuencia"
				state: "down"	

			ToggleButton:
				id: ACB
				background_color: 0, 1, 0, 1 #hex('#2ECC71')
				text: "ACB"
				group: "secuencia"
				state: "normal"

		BoxLayout:
			orientation: "horizontal"
			size_hint_x: .3
			CheckBox:
				id: PolSelected
				color: 0, 1, 0, 1 #hex('#2ECC71')
				group: "recOrPol"
				size_hint_x: .05
				active: True

			Label:
				text: "Forma Polar"
				size_hint_x: .15


		BoxLayout:
			size_hint_x: .7
			orientation: "horizontal"

			BoxLayout:
				size_hint_x: .25
			
			TextInput:
				id: vMagnitud
				hint_text: "Magnitud"
				input_filter: "float"
				write_tab: False
				disabled: not PolSelected.active
			TextInput:
				id: vAngulo
				hint_text: "Angulo"
				input_filter: "float"
				write_tab: False
				disabled: not PolSelected.active

		BoxLayout:
			orientation: "horizontal"
			size_hint_x: .4

			CheckBox:
				id: RectSelected
				color: 0, 1, 0, 1 #hex('#2ECC71')
				group: "recOrPol"
				size_hint_x: .04

			Label:
				text: "Forma Rectangular"
				size_hint_x: .15

		BoxLayout:
			size_hint_x: .7
			orientation: "horizontal"
			
			BoxLayout:
				size_hint_x: .25

			TextInput:
				id: vReal
				hint_text: "Real"
				input_filter: "float"
				write_tab: False
				disabled: not RectSelected.active
			
			TextInput:
				id: vComplejo
				hint_text: "Complejo (j)"
				input_filter: "float"
				write_tab: False
				disabled: not RectSelected.active
		BoxLayout:
			size_hint_y: .3

		BoxLayout:
			size_hint_y: 1
			orientation: "horizontal"

			Button:
				background_color: 0, 1, 0, 1 #hex('#2ECC71')
				text: "Regresar"
				on_press:
					root.dismiss()
					app.appLayout.getTipoFuente()

			Button:
				background_color: 0, 1, 0, 1 #hex('#2ECC71')
				text: "Aceptar"
				on_press:
					root.dismiss()
					app.appLayout.setVoltajeAB(ABC.state, PolSelected.state, vMagnitud.text, vAngulo.text, vReal.text, vComplejo.text)

		


<DataOutLabel@Label>
	text_size: self.size
	size_hint_x: .2
	font_size: 20	
	halign:    'left'
	valign:    'middle'
	bold:      True
	color: 0, 0, 0, 1


<SelecFuente>
	auto_dismiss: False
	size_hint: None, None
	size: 400, 200
	title: "Seleccione el tipo de fuente"
	BoxLayout
		pading: 10
		size: self.parent.size
		pos : self.parent.pos
		orientation: "horizontal"
	
		Button:
			background_color: 0, 1, 0, 1 #hex('#2ECC71')
			text: "Estrella"
			font_size: 32
			size: self.parent.size
			pos: self.parent.pos
			on_release: 
				root.dismiss()
				app.appLayout.setTipoFuente('Estrella')
		
		Button:
			background_color: 0, 1, 0, 1 #hex('#2ECC71')
			text: "Delta"
			font_size: 32
			size: self.parent.size
			on_release: 
				root.dismiss()
				app.appLayout.setTipoFuente('Delta')